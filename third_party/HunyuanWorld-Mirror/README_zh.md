[English Version](README.md)
# **HunyuanWorld-Mirror**

<p align="center">
  <img src="assets/teaser.jpg" width="95%" alt="HunyuanWorld-Mirror Teaser">
</p>

<p align="center">
<a href='https://3d-models.hunyuan.tencent.com/world/'><img src='https://img.shields.io/badge/Project-Page-green'></a>
<a href='https://3d-models.hunyuan.tencent.com/world/worldMirror1_0/HYWorld_Mirror_Tech_Report.pdf'><img src='https://img.shields.io/badge/Technique-Report-red'></a>
<a href='https://huggingface.co/tencent/HunyuanWorld-Mirror'><img src='https://img.shields.io/badge/%F0%9F%A4%97%20Hugging%20Face-Model-blue'></a>
<a href='https://huggingface.co/spaces/tencent/HunyuanWorld-Mirror'><img src='https://img.shields.io/badge/%F0%9F%A4%97%20Hugging%20Face-Demo-orange'></a>
<a href=https://discord.gg/dNBrdrGGMa target="_blank"><img src= https://img.shields.io/badge/Discord-white.svg?logo=discord height=22px></a>
  <a href=https://x.com/TencentHunyuan target="_blank"><img src=https://img.shields.io/badge/Hunyuan-black.svg?logo=x height=22px></a>
<p align="center">



HunyuanWorld-Mirror æ˜¯ä¸€ä¸ªå¤šåŠŸèƒ½çš„å‰é¦ˆæ¨¡å‹ï¼Œç”¨äºå…¨é¢çš„3Då‡ ä½•é¢„æµ‹ã€‚å®ƒæ•´åˆäº†å¤šç§å‡ ä½•å…ˆéªŒï¼ˆ**ç›¸æœºä½å§¿**ã€**æ ¡å‡†å†…å‚**ã€**æ·±åº¦å›¾**ï¼‰ï¼Œå¹¶åœ¨å•æ¬¡å‰å‘ä¼ æ’­ä¸­åŒæ—¶ç”Ÿæˆå„ç§3Dè¡¨ç¤ºï¼ˆ**ç‚¹äº‘**ã€**å¤šè§†å›¾æ·±åº¦**ã€**ç›¸æœºå‚æ•°**ã€**è¡¨é¢æ³•çº¿**ã€**3Dé«˜æ–¯**ï¼‰ã€‚



https://github.com/user-attachments/assets/ced3ef9e-8f90-423f-8ad0-ada9069111d6



## ğŸ”¥ğŸ”¥ğŸ”¥ æ›´æ–°
* **[2025å¹´11æœˆ7æ—¥]**ï¼šğŸš€ğŸš€ğŸš€ æˆ‘ä»¬å‘å¸ƒäº†è®­ç»ƒå’Œè¯„ä¼°ä»£ç ã€‚è¯¦è§[è®­ç»ƒè¯´æ˜](#ğŸ¤–-è®­ç»ƒ)å’Œ[è¯„ä¼°è¯´æ˜](#ğŸ“Š-è¯„ä¼°)ã€‚
* **[2025å¹´10æœˆ22æ—¥]**ï¼šæˆ‘ä»¬å‘å¸ƒäº†æ¨ç†ä»£ç å’Œæ¨¡å‹æƒé‡ã€‚[ä¸‹è½½é¢„è®­ç»ƒæ¨¡å‹](https://huggingface.co/tencent/HunyuanWorld-Mirror)ã€‚

> åŠ å…¥æˆ‘ä»¬çš„ **[å¾®ä¿¡ç¾¤](#)** å’Œ **[Discord](https://discord.gg/dNBrdrGGMa)** ç¾¤ç»„ï¼Œä¸æˆ‘ä»¬è®¨è®ºå¹¶è·å¾—å¸®åŠ©ã€‚

| å¾®ä¿¡ç¾¤                                     | å°çº¢ä¹¦                                           | X                                           | Discord                                           |
|--------------------------------------------------|-------------------------------------------------------|---------------------------------------------|---------------------------------------------------|
| <img src="assets/qrcode/wechat.png"  height=140> | <img src="assets/qrcode/xiaohongshu.png"  height=140> | <img src="assets/qrcode/x.png"  height=140> | <img src="assets/qrcode/discord.png"  height=140> | 


## ç›®å½•

- [ä»‹ç»](#â˜¯ï¸-hunyuanworld-mirror-ä»‹ç»)
  - [æ¶æ„](#æ¶æ„)
- [å®‰è£…](#ğŸ› ï¸-ä¾èµ–å’Œå®‰è£…)
- [å¿«é€Ÿå¼€å§‹](#ğŸ®-å¿«é€Ÿå¼€å§‹)
  - [åœ¨çº¿æ¼”ç¤º](#åœ¨çº¿æ¼”ç¤º)
  - [æœ¬åœ°æ¼”ç¤º](#æœ¬åœ°æ¼”ç¤º)
- [ä¸‹è½½é¢„è®­ç»ƒæ¨¡å‹](#ğŸ“¦-ä¸‹è½½é¢„è®­ç»ƒæ¨¡å‹)
- [ä½¿ç”¨å›¾åƒå’Œå…ˆéªŒè¿›è¡Œæ¨ç†](#ğŸš€-ä½¿ç”¨å›¾åƒå’Œå…ˆéªŒè¿›è¡Œæ¨ç†)
  - [ç¤ºä¾‹ä»£ç ç‰‡æ®µ](#ç¤ºä¾‹ä»£ç ç‰‡æ®µ)
  - [è¾“å‡ºæ ¼å¼](#è¾“å‡ºæ ¼å¼)
  - [æ›´å¤šåŠŸèƒ½çš„æ¨ç†](#æ›´å¤šåŠŸèƒ½çš„æ¨ç†)
- [åæœŸ3DGSä¼˜åŒ–ï¼ˆå¯é€‰ï¼‰](#ğŸ¯-åæœŸ-3dgs-ä¼˜åŒ–å¯é€‰)
  - [å®‰è£…ä¾èµ–](#å®‰è£…ä¾èµ–)
  - [ä¼˜åŒ–](#ä¼˜åŒ–)
- [æ€§èƒ½è¡¨ç°](#ğŸ”®-æ€§èƒ½è¡¨ç°)
  - [ç‚¹äº‘é‡å»º](#ç‚¹äº‘é‡å»º)
  - [æ–°è§†è§’åˆæˆ](#æ–°è§†è§’åˆæˆ)
  - [å‡ ä½•å…ˆéªŒå¢å¼º](#å‡ ä½•å…ˆéªŒå¢å¼º)
- [è®­ç»ƒ](#ğŸ¤–-è®­ç»ƒ)
  - [è®­ç»ƒæ•°æ®å‡†å¤‡](#è®­ç»ƒæ•°æ®å‡†å¤‡)
  - [å®‰è£…ä¾èµ–](#å®‰è£…è®­ç»ƒä¾èµ–)
  - [è®­ç»ƒå‘½ä»¤](#è®­ç»ƒå‘½ä»¤)
  - [è‡ªå®šä¹‰è®­ç»ƒå‘½ä»¤](#è‡ªå®šä¹‰è®­ç»ƒå‘½ä»¤)
  - [è¯„ä¼°è®­ç»ƒæ£€æŸ¥ç‚¹](#è¯„ä¼°è®­ç»ƒæ£€æŸ¥ç‚¹)
- [è¯„ä¼°](#ğŸ“Š-è¯„ä¼°)
  - [è¯„ä¼°æ•°æ®å‡†å¤‡](#è¯„ä¼°æ•°æ®å‡†å¤‡)
  - [å®‰è£…ä¾èµ–](#å®‰è£…è¯„ä¼°ä¾èµ–)
  - [è¯„ä¼°å‘½ä»¤](#è¯„ä¼°å‘½ä»¤)
    - [1. ç‚¹å›¾é‡å»º](#1-ç‚¹å›¾é‡å»º)
    - [2. è¡¨é¢æ³•çº¿ä¼°è®¡](#2-è¡¨é¢æ³•çº¿ä¼°è®¡)
    - [3. æ–°è§†è§’åˆæˆ](#3-æ–°è§†è§’åˆæˆ)
    - [4. æ·±åº¦ä¼°è®¡](#4-æ·±åº¦ä¼°è®¡)
    - [5. ç›¸æœºä½å§¿ä¼°è®¡](#5-ç›¸æœºä½å§¿ä¼°è®¡)
- [å¼€æºè®¡åˆ’](#ğŸ“‘-å¼€æºè®¡åˆ’)
- [å¼•ç”¨](#ğŸ”—-bibtex)
- [è”ç³»æ–¹å¼](#ğŸ“§-è”ç³»æ–¹å¼)
- [è‡´è°¢](#è‡´è°¢)


## â˜¯ï¸ **HunyuanWorld-Mirror ä»‹ç»**

### æ¶æ„
HunyuanWorld-Mirror ç”±ä¸¤ä¸ªå…³é”®ç»„ä»¶ç»„æˆï¼š

**(1) å¤šæ¨¡æ€å…ˆéªŒæç¤º**ï¼šä¸€ç§å°†å¤šç§å…ˆéªŒæ¨¡æ€ï¼ˆåŒ…æ‹¬æ ¡å‡†å†…å‚ã€ç›¸æœºä½å§¿å’Œæ·±åº¦ï¼‰åµŒå…¥åˆ°å‰é¦ˆæ¨¡å‹ä¸­çš„æœºåˆ¶ã€‚ç»™å®šä»»ä½•å¯ç”¨å…ˆéªŒçš„å­é›†ï¼Œæˆ‘ä»¬åˆ©ç”¨å‡ ä¸ªè½»é‡çº§ç¼–ç å±‚å°†æ¯ç§æ¨¡æ€è½¬æ¢ä¸ºç»“æ„åŒ–çš„tokenã€‚

**(2) é€šç”¨å‡ ä½•é¢„æµ‹**ï¼šä¸€ä¸ªç»Ÿä¸€çš„æ¶æ„ï¼Œèƒ½å¤Ÿå¤„ç†ä»ç›¸æœºå’Œæ·±åº¦ä¼°è®¡åˆ°ç‚¹å›¾å›å½’ã€è¡¨é¢æ³•çº¿ä¼°è®¡å’Œæ–°è§†å›¾åˆæˆçš„å…¨æ–¹ä½3Dé‡å»ºä»»åŠ¡ã€‚

<p align="left">
  <img src="assets/arch.png">
</p>


## ğŸ› ï¸ ä¾èµ–å’Œå®‰è£…
æˆ‘ä»¬å»ºè®®ä½¿ç”¨ CUDA 12.4 ç‰ˆæœ¬è¿›è¡Œæ‰‹åŠ¨å®‰è£…ã€‚
```shell
# 1. å…‹éš†ä»“åº“
git clone https://github.com/Tencent-Hunyuan/HunyuanWorld-Mirror
cd HunyuanWorld-Mirror

# 2. åˆ›å»º conda ç¯å¢ƒ
conda create -n hunyuanworld-mirror python=3.10 cmake=3.14.0 -y
conda activate hunyuanworld-mirror

# 3. ä½¿ç”¨ pip å®‰è£… PyTorch å’Œå…¶ä»–ä¾èµ–
# å¯¹äº CUDA 12.4
pip install torch==2.4.0 torchvision==0.19.0 --index-url https://download.pytorch.org/whl/cu124

# 4. å®‰è£… pip ä¾èµ–
pip install -r requirements.txt

# 5. å®‰è£… gsplat ç”¨äº 3D é«˜æ–¯ç‚¹äº‘æ¸²æŸ“
# å¯¹äº CUDA 12.4
pip install gsplat --index-url https://docs.gsplat.studio/whl/pt24cu124
```

## ğŸ® å¿«é€Ÿå¼€å§‹
æˆ‘ä»¬æä¾›äº†ä¸€ä¸ª Gradio æ¼”ç¤ºï¼Œç”¨äºå¿«é€Ÿä½“éªŒ HunyuanWorld-Mirror æ¨¡å‹ã€‚

<p align="center">
  <img src="assets/gradio_demo.gif" width="95%" alt="HunyuanWorld-Mirror Gradio Demo">
</p>

### åœ¨çº¿æ¼”ç¤º
æ— éœ€å®‰è£…å³å¯è¯•ç”¨æˆ‘ä»¬çš„åœ¨çº¿æ¼”ç¤ºï¼š[ğŸ¤— Hugging Face æ¼”ç¤º](https://huggingface.co/spaces/tencent/HunyuanWorld-Mirror)

### æœ¬åœ°æ¼”ç¤º
```shell
# 1. å®‰è£… gradio æ¼”ç¤ºæ‰€éœ€çš„ä¾èµ–
pip install -r requirements_demo.txt
# å¯¹äº Windows ç³»ç»Ÿ,è¯·å°† onnxruntime å’Œ gsplat æ›¿æ¢ä¸º Windows ç‰ˆæœ¬çš„ wheel åŒ…(è¯¦è§ requirements_demo.txt ä¸­çš„æ³¨é‡Š)
# 2. åœ¨æœ¬åœ°å¯åŠ¨ gradio æ¼”ç¤º
python app.py
```

## ğŸ“¦ ä¸‹è½½é¢„è®­ç»ƒæ¨¡å‹
è¦ä¸‹è½½ HunyuanWorld-Mirror æ¨¡å‹ï¼Œé¦–å…ˆå®‰è£… huggingface-cliï¼š
```
python -m pip install "huggingface_hub[cli]"
```
ç„¶åä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ä¸‹è½½æ¨¡å‹ï¼š
```
huggingface-cli download tencent/HunyuanWorld-Mirror --local-dir ./ckpts
```
> **æ³¨æ„**ï¼šå¯¹äºæ¨ç†ï¼Œæ¨¡å‹æƒé‡å°†åœ¨è¿è¡Œæ¨ç†è„šæœ¬æ—¶è‡ªåŠ¨ä» Hugging Face ä¸‹è½½ï¼Œå› æ­¤å¦‚æœæ„¿æ„ï¼Œæ‚¨å¯ä»¥è·³è¿‡æ­¤æ‰‹åŠ¨ä¸‹è½½æ­¥éª¤ã€‚

## ğŸš€ ä½¿ç”¨å›¾åƒå’Œå…ˆéªŒè¿›è¡Œæ¨ç†
### ç¤ºä¾‹ä»£ç ç‰‡æ®µ
```python
from pathlib import Path
import torch
from src.models.models.worldmirror import WorldMirror
from src.utils.inference_utils import extract_load_and_preprocess_images

# --- Setup ---
device = 'cuda' if torch.cuda.is_available() else 'cpu'
model = WorldMirror.from_pretrained("tencent/HunyuanWorld-Mirror").to(device)

# --- Load Data ---
# åŠ è½½ N å¼ å›¾åƒåºåˆ—åˆ°å¼ é‡
inputs = {}
inputs['img'] = extract_load_and_preprocess_images(
    Path("path/to/your/data"), # è§†é¢‘æˆ–åŒ…å«å›¾åƒçš„ç›®å½•
    fps=1, # ä»è§†é¢‘æå–å¸§çš„å¸§ç‡
    target_size=518
).to(device)  # [1,N,3,H,W], èŒƒå›´ [0,1]
# -- åŠ è½½å…ˆéªŒï¼ˆå¯é€‰ï¼‰ --
# é…ç½®æ¡ä»¶æ ‡å¿—å’Œå…ˆéªŒè·¯å¾„
cond_flags = [0, 0, 0]  # [camera_pose, depth, intrinsics]
prior_data = {
    'camera_poses': None,      # ç›¸æœºä½å§¿å¼ é‡ [1, N, 4, 4]
    'depthmap': None,         # æ·±åº¦å›¾å¼ é‡ [1, N, H, W]
    'camera_intrs': None # ç›¸æœºå†…å‚å¼ é‡ [1, N, 3, 3]
}
for idx, (key, data) in enumerate(prior_data.items()):
    if data is not None:
        cond_flags[idx] = 1
        inputs[key] = data

# --- Inference ---
with torch.no_grad():
    predictions = model(views=inputs, cond_flags=cond_flags)
```

### è¾“å‡ºæ ¼å¼

```python
# å‡ ä½•è¾“å‡º
pts3d_preds, pts3d_conf = predictions["pts3d"][0], predictions["pts3d_conf"][0]      # ä¸–ç•Œåæ ‡ç³»ä¸­çš„3Dç‚¹äº‘ï¼š[S, H, W, 3], ç‚¹äº‘ç½®ä¿¡åº¦: [S, W, H] 
depth_preds, depth_conf = predictions["depth"][0], predictions["depth_conf"][0]      # ç›¸æœºåæ ‡ç³»ä¸­çš„Zæ·±åº¦ï¼š[S, H, W, 1], æ·±åº¦ç½®ä¿¡åº¦: [S, W, H] 
normal_preds, normal_conf = predictions["normals"][0], predictions["normals_conf"][0] # ç›¸æœºåæ ‡ç³»ä¸­çš„è¡¨é¢æ³•çº¿ï¼š[S, H, W, 3], æ³•çº¿ç½®ä¿¡åº¦: [S, W, H] 

# ç›¸æœºè¾“å‡º
camera_poses = predictions["camera_poses"][0]  # ç›¸æœºåˆ°ä¸–ç•Œçš„ä½å§¿ï¼ˆOpenCVçº¦å®šï¼‰ï¼š[S, 4, 4]
camera_intrs = predictions["camera_intrs"][0]  # ç›¸æœºå†…å‚çŸ©é˜µï¼š[S, 3, 3]
camera_params = predictions["camera_params"][0]   # ç›¸æœºå‘é‡ï¼š[S, 9]ï¼ˆå¹³ç§»ï¼Œæ—‹è½¬å››å…ƒæ•°ï¼Œfov_vï¼Œfov_uï¼‰

# 3Dé«˜æ–¯ç‚¹äº‘è¾“å‡º
splats = predictions["splats"]
means = splats["means"][0].reshape(-1, 3)      # é«˜æ–¯å‡å€¼ï¼š[N, 3]
opacities = splats["opacities"][0].reshape(-1) # é«˜æ–¯ä¸é€æ˜åº¦ï¼š[N]
scales = splats["scales"][0].reshape(-1, 3)    # é«˜æ–¯å°ºåº¦ï¼š[N, 3]
quats = splats["quats"][0].reshape(-1, 4)      # é«˜æ–¯å››å…ƒæ•°ï¼š[N, 4]
sh = splats["sh"][0].reshape(-1, 1, 3)         # é«˜æ–¯çƒè°å‡½æ•°ï¼š[N, 1, 3]
```

å…¶ä¸­ï¼š
- `S` æ˜¯è¾“å…¥è§†å›¾çš„æ•°é‡
- `H, W` æ˜¯è¾“å…¥å›¾åƒçš„é«˜åº¦å’Œå®½åº¦
- `N` æ˜¯3Dé«˜æ–¯çš„æ•°é‡


### æ›´å¤šåŠŸèƒ½çš„æ¨ç†

å¯¹äºé«˜çº§ç”¨æ³•ï¼Œè¯·å‚é˜… `infer.py`ï¼Œå®ƒæä¾›äº†é¢å¤–çš„åŠŸèƒ½ï¼š
- ä¿å­˜é¢„æµ‹ï¼šç‚¹äº‘ã€æ·±åº¦å›¾ã€æ³•çº¿ã€ç›¸æœºå‚æ•°å’Œ3Dé«˜æ–¯ç‚¹äº‘
- å¯è§†åŒ–è¾“å‡ºï¼šæ·±åº¦å›¾ã€è¡¨é¢æ³•çº¿å’Œ3Dç‚¹äº‘
- ä½¿ç”¨3Dé«˜æ–¯æ¸²æŸ“æ–°è§†å›¾
- å°†3Dé«˜æ–¯ç‚¹äº‘ç»“æœå’Œç›¸æœºå‚æ•°å¯¼å‡ºä¸º COLMAP æ ¼å¼


## ğŸ¯ åæœŸ 3DGS ä¼˜åŒ–ï¼ˆå¯é€‰ï¼‰

### å®‰è£…ä¾èµ–
```shell
cd submodules/gsplat/examples
# å®‰è£…exampleä¾èµ–
pip install -r requirements.txt
# å®‰è£… rmbrualla çš„ pycolmap2
git clone https://github.com/rmbrualla/pycolmap.git
cd pycolmap
# åœ¨ pyproject.toml ä¸­ï¼Œå°† name = "pycolmap" é‡å‘½åä¸º name = "pycolmap2"
vim pyproject.toml
# å°†æ–‡ä»¶å¤¹ pycolmap é‡å‘½åä¸º pycolmap2
mv pycolmap/ pycolmap2/
python3 -m pip install -e .
```
### ä¼˜åŒ–
é¦–å…ˆï¼Œä½¿ç”¨ `--save_colmap` å’Œ `--save_gs` æ ‡å¿—è¿è¡Œ infer.py ä»¥ç”Ÿæˆ COLMAP æ ¼å¼çš„åˆå§‹åŒ–ï¼š
```shell
python infer.py --input_path /path/to/your/input --output_path /path/to/your/output --save_colmap --save_gs
```
é‡å»ºç»“æœï¼ˆç›¸æœºå‚æ•°ã€3Dç‚¹å’Œ3Dé«˜æ–¯ï¼‰å°†ä¿å­˜åœ¨ `/path/to/your/output` ä¸‹ï¼Œä¾‹å¦‚ï¼š
``` 
output/
â”œâ”€â”€ images/                 # è¾“å…¥å›¾åƒ
â”œâ”€â”€ sparse/
â”‚   â””â”€â”€ 0/
â”‚       â”œâ”€â”€ cameras.bin     # ç›¸æœºå†…å‚
â”‚       â”œâ”€â”€ images.bin      # ç›¸æœºä½å§¿
â”‚       â””â”€â”€ points3D.bin    # 3Dç‚¹
â””â”€â”€ gaussians.ply           # 3Dé«˜æ–¯ç‚¹äº‘åˆå§‹åŒ–
```
ç„¶åï¼Œè¿è¡Œä¼˜åŒ–è„šæœ¬ï¼š
```shell
python submodules/gsplat/examples/simple_trainer_worldmirror.py default --data_factor 1 --data_dir /path/to/your/inference_output --result_dir /path/to/your/gs_optimization_output
```

## ğŸ”® **æ€§èƒ½è¡¨ç°**

HunyuanWorld-Mirror åœ¨å¤šä¸ª 3D æ„ŸçŸ¥ä»»åŠ¡ä¸­å®ç°äº†æœ€å…ˆè¿›çš„æ€§èƒ½ï¼Œè¶…è¶Šäº†ç°æœ‰çš„å‰é¦ˆå¼ 3D é‡å»ºæ–¹æ³•ã€‚å…¶åœ¨ **ç‚¹äº‘é‡å»ºã€ç›¸æœºä½å§¿ä¼°è®¡ã€è¡¨é¢æ³•çº¿é¢„æµ‹ã€æ–°è§†è§’æ¸²æŸ“å’Œæ·±åº¦ä¼°è®¡** ç­‰ä»»åŠ¡ä¸­å‡è¡¨ç°å‡ºè‰²ã€‚å¼•å…¥ **ç›¸æœºä½å§¿ã€æ·±åº¦æˆ–å†…å‚** ç­‰ 3D å…ˆéªŒä¿¡æ¯ï¼Œå¯¹äºæå‡è¿™äº›ä»»åŠ¡çš„æ€§èƒ½èµ·åˆ°äº†å…³é”®ä½œç”¨ã€‚ä»¥ä¸‹æ˜¯ç‚¹äº‘é‡å»ºå’Œæ–°è§†è§’åˆæˆä»»åŠ¡çš„æ€§èƒ½è¡¨ç°ï¼š

### ç‚¹äº‘é‡å»º

| æ–¹æ³•                        | 7-Scenes            |           | NRGBD             |           | DTU               |           |
|-----------------------------|---------------------|-----------|-------------------|-----------|-------------------|-----------|
|                             | Acc. â¬‡             | Comp. â¬‡  | Acc. â¬‡          | Comp. â¬‡   | Acc. â¬‡            | Comp. â¬‡   |
| Fast3R                      | 0.096               | 0.145     | 0.135             | 0.163     | 3.340             | 2.929     |
| CUT3R                       | 0.094               | 0.101     | 0.104             | 0.079     | 4.742             | 3.400     |
| VGGT                        | 0.046               | 0.057     | 0.051             | 0.066     | 1.338             | 1.896     |
| Ï€Â³                          | 0.048               | 0.072     | 0.026             | 0.028     | 1.198             | 1.849     |
| **HunyuanWorld-Mirror**     | 0.043           | 0.049 | 0.041         | 0.045 | 1.017        | 1.780 |
| **+ å†…å‚**                  | 0.042           | 0.048 | 0.041         | 0.045 | 0.977        | 1.762 |
| **+ æ·±åº¦**                  | 0.038           | 0.039 | 0.032         | 0.031 | 0.831        | 1.022 |
| **+ ç›¸æœºä½å§¿**              | 0.023           | 0.036 | 0.029         | 0.032 | 0.990        | 1.847 |
| **+ æ‰€æœ‰å…ˆéªŒ**              | **0.018**       | **0.023** | **0.016**   | **0.014** | **0.735**  | **0.935** |

### æ–°è§†è§’åˆæˆ

| æ–¹æ³•                          | Re10K |           |           | DL3DV  |           |           |
|-------------------------------|-------------------------|-----------|-----------|-------------------|-----------|-----------|
|                               | PSNR â¬†                 | SSIM â¬†   | LPIPS â¬‡  | PSNR â¬†           | SSIM â¬†   | LPIPS â¬‡  |
| FLARE                         | 16.33                  | 0.574     | 0.410     | 15.35            | 0.516     | 0.591     |
| AnySplat                      | 17.62                  | 0.616     | 0.242     | 18.31            | 0.569     | 0.258     |
| **HunyuanWorld-Mirror**       | 20.62                  | 0.706     | 0.187     | 20.92            | 0.667     | 0.203     |
| **+ å†…å‚**                    | 22.03                  | 0.765     | 0.165     | 22.08            | 0.723     | 0.175     |
| **+ ç›¸æœºä½å§¿**                | 20.84                  | 0.713     | 0.182     | 21.18            | 0.674     | 0.197     |
| **+ å†…å‚ + ç›¸æœºä½å§¿**          | **22.30**              | **0.774** | **0.155** | **22.15**        | **0.726** | **0.174** |

### å‡ ä½•å…ˆéªŒå¢å¼º

<p align="left">
  <img src="assets/num-prior.png">
</p>

å…³äºå…¶ä»–ä»»åŠ¡çš„æ€§èƒ½æ¯”è¾ƒï¼Œè¯·å‚è€ƒ [æŠ€æœ¯æŠ¥å‘Š](https://3d-models.hunyuan.tencent.com/world/worldMirror1_0/HYWorld_Mirror_Tech_Report.pdf)ã€‚

## ğŸ¤– è®­ç»ƒ

### è®­ç»ƒæ•°æ®å‡†å¤‡
è¯·æŒ‰ç…§ [CUT3R æ•°æ®å‡†å¤‡è¯´æ˜](https://github.com/CUT3R/CUT3R/blob/main/docs/preprocess.md) ä¸‹è½½å’Œå‡†å¤‡è®­ç»ƒæ•°æ®é›†ã€‚ç›®å‰ï¼Œæˆ‘ä»¬æä¾›äº† Hypersim çš„ç¤ºä¾‹æ•°æ®é›†ã€‚

### å®‰è£…è®­ç»ƒä¾èµ–
å‚è€ƒ [å®‰è£…](#ğŸ› ï¸-ä¾èµ–å’Œå®‰è£…)ã€‚

### è®­ç»ƒå‘½ä»¤
æˆ‘ä»¬çš„æ¨¡å‹è®­ç»ƒåŒ…æ‹¬ä¸¤ä¸ªé˜¶æ®µã€‚å¿«é€Ÿå¼€å§‹å‘½ä»¤å¦‚ä¸‹ï¼š

```bash
# ç¬¬ä¸€é˜¶æ®µï¼šå…ˆéªŒã€ç‚¹å›¾ã€ç›¸æœºã€æ·±åº¦å’Œæ³•çº¿
python training/launch.py train=stage1.yaml 
# ç¬¬äºŒé˜¶æ®µï¼š3Dé«˜æ–¯ç‚¹äº‘
python training/lanuch.py train=stage2.yaml
```

**æ³¨æ„ï¼š** 
- è¿™å°†è‡ªåŠ¨æ£€æµ‹æ‰€æœ‰å¯ç”¨çš„ GPUã€‚è¦æŒ‡å®š GPUï¼Œä½¿ç”¨ `CUDA_VISIBLE_DEVICES=<CUDA_ID>`
- å¦‚æœæ‚¨æƒ³ä»æ£€æŸ¥ç‚¹æ¢å¤è®­ç»ƒï¼Œå¯ä»¥è®¾ç½® `ckpt_path` æ ‡å¿—ä¸ºæ£€æŸ¥ç‚¹çš„è·¯å¾„ï¼Œä¾‹å¦‚ `python training/launch.py train=stage1.yaml ckpt_path=path/to/your/checkpoint.ckpt`ã€‚
- æ‚¨å¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­æ³¨é‡Šæ‰ `data.validation_datasets` ä¸­çš„ä¸€äº›éªŒè¯æ•°æ®é›†ï¼Œå¹¶è°ƒæ•´ `wrapper.eval_modalities` ä»¥å‡å°‘è¯„ä¼°æ—¶é—´ã€‚


### è‡ªå®šä¹‰è®­ç»ƒå‘½ä»¤
æˆ‘ä»¬åœ¨ `training/configs/train/custom.yaml` ä¸­æä¾›äº†å¾®è°ƒé…ç½®ï¼Œæ‚¨å¯ä»¥åœ¨å…¶ä¸­è‡ªå®šä¹‰è®­ç»ƒå‚æ•°å’Œæ¨¡å‹æ¶æ„ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­ç¦ç”¨æŸäº›é¢„æµ‹å¤´ï¼š
```yaml
wrapper:
  model:
    enable_cam: true      # ç›¸æœºé¢„æµ‹å¤´
    enable_pts: true      # ç‚¹äº‘é¢„æµ‹å¤´
    enable_depth: true    # æ·±åº¦é¢„æµ‹å¤´
    enable_norm: false    # æ³•çº¿é¢„æµ‹å¤´
    enable_gs: false      # é«˜æ–¯ç‚¹äº‘é¢„æµ‹å¤´
```
ç„¶åè¿è¡Œä»¥ä¸‹è„šæœ¬ï¼š
```bash
python training/lanuch.py train=custom.yaml
```
å¦‚æœæ‚¨æƒ³åœ¨å•ä¸ªé˜¶æ®µä¸­è®­ç»ƒæ‰€æœ‰é¢„æµ‹å¤´éƒ½æ‰“å¼€çš„æ¨¡å‹ï¼Œå¯ä»¥è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
```bash
python training/launch.py train=all.yaml # è°ƒæ•´ train/all.yaml ä¸­çš„ max_images_per_gpu ä»¥é¿å… OOM
```

### è¯„ä¼°è®­ç»ƒæ£€æŸ¥ç‚¹
è®­ç»ƒåï¼Œæ‚¨å¯ä»¥é€šè¿‡è¿è¡Œä»¥ä¸‹è„šæœ¬åœ¨ç‚¹é‡å»ºä»»åŠ¡ä¸Šè¯„ä¼°è®­ç»ƒçš„æ£€æŸ¥ç‚¹ï¼š
```bash
python training/launch.py --config-name=eval.yaml eval=pointmap.yaml wrapper.pretrained=path/to/your/checkpoint.ckpt
```

## ğŸ“Š è¯„ä¼°
### è¯„ä¼°æ•°æ®å‡†å¤‡
è¯·å°†æ‰€æœ‰è¯„ä¼°æ•°æ®é›†æ”¾åœ¨ `data` æ–‡ä»¶å¤¹ä¸­ï¼Œæˆ–ç›¸åº”åœ°ä¿®æ”¹ `configs/paths/default.yaml` é…ç½®æ–‡ä»¶ã€‚æ•°æ®é¢„å¤„ç†è¯´æ˜ï¼š

- **ç‚¹å›¾é‡å»º**ï¼šæˆ‘ä»¬æŒ‰ç…§ [Spann3r çš„æ•°æ®å¤„ç†è¯´æ˜](https://github.com/HengyiWang/spann3r/blob/main/docs/data_preprocess.md) å‡†å¤‡ DTUã€7-Scene å’Œ NRGBDã€‚

- **è¡¨é¢æ³•çº¿ä¼°è®¡**ï¼šæˆ‘ä»¬æŒ‰ç…§ [DSINE](https://github.com/baegwangbin/DSINE) å‡†å¤‡ Ibimsã€NYU-v2 å’Œ Scannet-Normalã€‚

- **æ–°è§†è§’åˆæˆ**ï¼šå¯¹äº RealEstate10Kï¼Œæˆ‘ä»¬æŒ‰ç…§ [pixelSplat çš„è¯¦ç»†è¯´æ˜](https://github.com/dcharatan/pixelsplat?tab=readme-ov-file#acquiring-datasets)ã€‚å¯¹äº DL3DVï¼Œæˆ‘ä»¬æŒ‰ç…§ [DL3DV å®˜æ–¹ä»“åº“](https://github.com/DL3DV-10K/Dataset?tab=readme-ov-file#dataset-download) ä¸‹è½½ 480P 10K å­é›†ã€‚

- **æ·±åº¦ä¼°è®¡**ï¼šæˆ‘ä»¬æŒ‰ç…§ [MonST3R çš„æ•°æ®è¯´æ˜](https://github.com/Junyi42/monst3r/blob/main/data/evaluation_script.md) å‡†å¤‡ NYU-v2ã€Sintel å’Œ KITTIã€‚


- **ç›¸æœºä½å§¿ä¼°è®¡**ï¼šæˆ‘ä»¬ä» [Huggingface](https://huggingface.co/datasets/mutou0308/RE10K) ä¸‹è½½ RealEstate10Kã€‚

### å®‰è£…è¯„ä¼°ä¾èµ–
å‚è€ƒ [å®‰è£…](#ğŸ› ï¸-ä¾èµ–å’Œå®‰è£…)ã€‚

### è¯„ä¼°å‘½ä»¤
#### 1. ç‚¹å›¾é‡å»º
é…ç½®è§ `configs/eval/pointmap.yaml`ã€‚
```shell
python training/launch.py --config-name eval.yaml eval=pointmap.yaml
```
#### 2. è¡¨é¢æ³•çº¿ä¼°è®¡
é…ç½®è§ `configs/eval/normal.yaml`ã€‚
```shell
python training/launch.py --config-name eval.yaml eval=normal.yaml
```
#### 3. æ–°è§†è§’åˆæˆ
é…ç½®è§ `configs/eval/nvs.yaml`ã€‚
```shell
python training/launch.py --config-name eval.yaml eval=nvs.yaml
```
#### 4. æ·±åº¦ä¼°è®¡
é…ç½®è§ `configs/eval/depthmap.yaml`ã€‚
```shell
python training/launch.py --config-name eval.yaml eval=depthmap.yaml
```
#### 5. ç›¸æœºä½å§¿ä¼°è®¡
é…ç½®è§ `configs/eval/pose.yaml`ã€‚
```shell
python training/launch.py --config-name eval.yaml eval=pose.yaml
```

## ğŸ“‘ å¼€æºè®¡åˆ’

- [x] æ¨ç†ä»£ç 
- [x] æ¨¡å‹æƒé‡
- [x] æŠ€æœ¯æŠ¥å‘Š
- [x] Gradioæ¼”ç¤º
- [x] è¯„ä¼°ä»£ç 
- [x] è®­ç»ƒä»£ç 


## ğŸ”— BibTeX

å¦‚æœæ‚¨å‘ç° HunyuanWorld-Mirror å¯¹æ‚¨çš„ç ”ç©¶å’Œåº”ç”¨æœ‰ç”¨ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹ BibTeX å¼•ç”¨ï¼š

```BibTeX
@article{liu2025worldmirror,
  title={WorldMirror: Universal 3D World Reconstruction with Any-Prior Prompting},
  author={Liu, Yifan and Min, Zhiyuan and Wang, Zhenwei and Wu, Junta and Wang, Tengfei and Yuan, Yixuan and Luo, Yawei and Guo, Chunchao},
  journal={arXiv preprint arXiv:2510.10726},
  year={2025}
}
```

## ğŸ“§ è”ç³»æ–¹å¼
å¦‚æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·å‘é€é‚®ä»¶è‡³ tengfeiwang12@gmail.comã€‚

## è‡´è°¢
æˆ‘ä»¬è¡·å¿ƒæ„Ÿè°¢[HunyuanWorld](https://github.com/Tencent-Hunyuan/HunyuanWorld-1.0)ã€[VGGT](https://github.com/facebookresearch/vggt)ã€[Fast3R](https://github.com/facebookresearch/fast3r)ã€[CUT3R](https://github.com/CUT3R/CUT3R) å’Œ [DUSt3R](https://github.com/naver/dust3r) çš„ä½œè€…å’Œè´¡çŒ®è€…ï¼Œæ„Ÿè°¢ä»–ä»¬æ°å‡ºçš„å¼€æºå·¥ä½œå’Œå¼€åˆ›æ€§çš„ç ”ç©¶ã€‚
